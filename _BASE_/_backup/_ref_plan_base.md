Przeanalizuj dokładnie plik pod kątem zależności, refaktoryzacji, optymalizacji i zbędnego kodu oraz komentarzy. Przygotuj plan logicznego podziału pliku na mniejsze części celem jest ograniczenie pliku do około 300-400 linii!. Ten plik jest bardzo istotny i ma krytyczne znaczenie dla całej aplikacji. Proces refaktoryzacji i nanoszenia poprawek musi być bardzo ostrożny i precyzyjny. Plan refaktoryzacji ma być podzielony na etapy - jeden etap to jedna poprawka i testy automatyczne. Po pozytywnym przejściu testów można realizować kolejny etap. Przygotuj plan refaktoryzacji w formacie markdown. W pliku muszą być informacje o postępie prac.